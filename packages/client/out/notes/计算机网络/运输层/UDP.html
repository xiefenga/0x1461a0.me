<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>UDP | 0X1461A0</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/5db4aa1edde4971b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5db4aa1edde4971b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/38c642bc88044b6e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/38c642bc88044b6e.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2c644d3580cecc35.js" defer=""></script><script src="/_next/static/chunks/framework-325eacbb81921a43.js" defer=""></script><script src="/_next/static/chunks/main-c87967b003e3efc2.js" defer=""></script><script src="/_next/static/chunks/pages/_app-111c29f79e705983.js" defer=""></script><script src="/_next/static/chunks/542-e750f8bef0aa06d2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5B%5B...param%5D%5D-4c9f87d1f418ba6e.js" defer=""></script><script src="/_next/static/OyucwIrXZRgWNxoAUA9lF/_buildManifest.js" defer=""></script><script src="/_next/static/OyucwIrXZRgWNxoAUA9lF/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen"><header class="pb-10 pt-12 text-center shrink-0"><a class="uppercase tracking-widest text-gray-600" href="/">0x1461a0</a></header><main class="flex-auto mb-12"><div class="TOC_table-of-content__KyR_J"><ul><li><a href="#特点" data-target-id="h1-特点-0">特点</a></li><li><a href="#报文结构" data-target-id="h1-报文结构-1">报文结构</a></li><li><a href="#检验和" data-target-id="h1-检验和-2">检验和</a></li></ul></div><div class="article_article-container__yUBmR"><div class="mb-8"><h1 data-title="true" class="mb-0">UDP</h1><p class="opacity-50 !-mt-2"><span>Post: <!-- -->2022.09.18</span><span class="font-bold">·</span><span>Update: <!-- -->2022.09.18</span></p></div><h1>特点</h1>
<ol>
<li>除了分解/复用之外，以及少量的差错检测之外，UDP没有为 IP 增加任何的东西。</li>
<li>只要应用进程将数据传递给 UDP，UDP 就会立即将数据传递给网络层进行发送</li>
<li>UDP 无需建立连接，因此不会引入建立连接的时延</li>
<li>UDP 无连接也就无需维护连接状态，就减少了很多参数的跟踪</li>
<li>分组首部开销较少，只有 20 byte 的首部</li>
</ol>
<h1>报文结构</h1>
<p><img src="http://oss.xiefeng.tech/img/20210701175249.jpg" alt=""/></p>
<h1>检验和</h1>
<p>UDP 检验和提供了差错检测功能，检验和用于<strong>确定</strong>当 UDP 报文从源主机到目的主机移动时，其中的<strong>比特是否发生了改变</strong>。</p>
<p>校验和算法：</p>
<ul>
<li>发送方把UDP报文中所有的16 bit字相加，求和时遇到的任何溢出都会被回卷（执行反码运算）</li>
<li>将得到的结果放在校验和字段中，接受方</li>
</ul>
<p>接收方将所有的16bit也进行一次运算（包括校验和），如果没有差错，最后的结果应该 <code>1111111111111111</code></p>
<p>UDP 提供差错检测的原因是不能保证源和目的之间的所有链路都提供了差错检测，即使报文在链路中正确的传输，也有可能在路径中的某台路由器的内存中引入比特差错。</p>
<p>虽然 UDP 提供了差错检测，但对差错恢复无能为力。当 UDP 接收到出差错的报文，一种实现是丢弃受损的报文，另一种实现是将报文交给应用程序并给出警告。</p><div><a href="/notes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%BF%90%E8%BE%93%E5%B1%82">cd ..</a></div></div></main><footer class="pb-2 pt-12 text-center shrink-0"><div class="capitalize">copyright <span class="text-2xl align-middle">©</span> <!-- -->2022<!-- --> xie feng</div><div class="text-sm">Powered by NextJS</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metaTitle":"UDP","article":{"title":"UDP","content":"# 特点\r\n\r\n1. 除了分解/复用之外，以及少量的差错检测之外，UDP没有为 IP 增加任何的东西。\r\n2. 只要应用进程将数据传递给 UDP，UDP 就会立即将数据传递给网络层进行发送\r\n3. UDP 无需建立连接，因此不会引入建立连接的时延\r\n4. UDP 无连接也就无需维护连接状态，就减少了很多参数的跟踪\r\n5. 分组首部开销较少，只有 20 byte 的首部\r\n\r\n# 报文结构\r\n\r\n![](http://oss.xiefeng.tech/img/20210701175249.jpg)\r\n\r\n# 检验和\r\n\r\nUDP 检验和提供了差错检测功能，检验和用于**确定**当 UDP 报文从源主机到目的主机移动时，其中的**比特是否发生了改变**。\r\n\r\n校验和算法：\r\n\r\n- 发送方把UDP报文中所有的16 bit字相加，求和时遇到的任何溢出都会被回卷（执行反码运算）\r\n- 将得到的结果放在校验和字段中，接受方\r\n\r\n接收方将所有的16bit也进行一次运算（包括校验和），如果没有差错，最后的结果应该 `1111111111111111`\r\n\r\nUDP 提供差错检测的原因是不能保证源和目的之间的所有链路都提供了差错检测，即使报文在链路中正确的传输，也有可能在路径中的某台路由器的内存中引入比特差错。\r\n\r\n虽然 UDP 提供了差错检测，但对差错恢复无能为力。当 UDP 接收到出差错的报文，一种实现是丢弃受损的报文，另一种实现是将报文交给应用程序并给出警告。\r\n\r\n\r\n\r\n\r\n\r\n","meta":{"size":1480,"birthTime":1663496641446.7385,"updateTime":1663496641446.993}}},"__N_SSG":true},"page":"/notes/[[...param]]","query":{"param":["计算机网络","运输层","UDP"]},"buildId":"OyucwIrXZRgWNxoAUA9lF","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>