<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>6 | 0X1461A0</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/5db4aa1edde4971b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5db4aa1edde4971b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/38c642bc88044b6e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/38c642bc88044b6e.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2c644d3580cecc35.js" defer=""></script><script src="/_next/static/chunks/framework-325eacbb81921a43.js" defer=""></script><script src="/_next/static/chunks/main-c87967b003e3efc2.js" defer=""></script><script src="/_next/static/chunks/pages/_app-111c29f79e705983.js" defer=""></script><script src="/_next/static/chunks/542-e750f8bef0aa06d2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5B%5B...param%5D%5D-4c9f87d1f418ba6e.js" defer=""></script><script src="/_next/static/OyucwIrXZRgWNxoAUA9lF/_buildManifest.js" defer=""></script><script src="/_next/static/OyucwIrXZRgWNxoAUA9lF/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen"><header class="pb-10 pt-12 text-center shrink-0"><a class="uppercase tracking-widest text-gray-600" href="/">0x1461a0</a></header><main class="flex-auto mb-12"><div class="TOC_table-of-content__KyR_J"><ul><li><a href="#控制平面概述" data-target-id="h2-控制平面概述-0">控制平面概述</a></li><li><a href="#路由选择算法（routing algorithm）" data-target-id="h2-路由选择算法（routing algorithm）-1">路由选择算法（routing algorithm）</a><ul><li><a href="#LS算法" data-target-id="h3-LS算法-0">LS算法</a></li><li><a href="#DV算法" data-target-id="h3-DV算法-1">DV算法</a></li></ul></li><li><a href="#开放最短路优先（OSPF）" data-target-id="h2-开放最短路优先（OSPF）-2">开放最短路优先（OSPF）</a></li><li><a href="#边界网关协议（BGP）" data-target-id="h2-边界网关协议（BGP）-3">边界网关协议（BGP）</a></li><li><a href="#SDN控制平面" data-target-id="h2-SDN控制平面-4">SDN控制平面</a></li><li><a href="#简单网络管理协议（SNMP）" data-target-id="h2-简单网络管理协议（SNMP）-5">简单网络管理协议（SNMP）</a></li></ul></div><div class="article_article-container__yUBmR"><div class="mb-8"><h1 data-title="true" class="mb-0">6</h1><p class="opacity-50 !-mt-2"><span>Post: <!-- -->2022.09.18</span><span class="font-bold">·</span><span>Update: <!-- -->2022.09.18</span></p></div><h2>控制平面概述</h2>
<blockquote>
<p>控制平面作为一种网络范围的逻辑，不仅控制沿着从主机到目的主机的端到端路径间的路由器路由器如何转发数据报，而且控制网络层组件和服务如何配置和管理。</p>
</blockquote>
<p>对于转发表和流表的计算、维护和安装有两种方式：</p>
<ol>
<li>每路由控制</li>
<li>逻辑集中式控制</li>
</ol>
<h2>路由选择算法（routing algorithm）</h2>
<p>**目的：**从发送方到接收方的过程中确定一条通过路由器网络的好的路径。一般好的路径指具有最低开销的路径。</p>
<p><strong>分类</strong></p>
<ol>
<li>
<p>根据算法是集中式还是分散式</p>
<ul>
<li>
<p>集中式路由选择算法</p>
<p>也称链路状态算法（LS），例如：Dijkstra算法</p>
</li>
<li>
<p>分散式路由选择算法</p>
<p>例如：距离向量算法（DV）</p>
</li>
</ul>
</li>
<li>
<p>根据算法是静态的还是动态</p>
<ul>
<li>静态路由选择算法</li>
<li>动态路由选择算法</li>
</ul>
</li>
<li>
<p>根据算法是负载敏感还是负载迟钝</p>
<ul>
<li>负载敏感算法</li>
<li>负载迟钝算法</li>
</ul>
</li>
</ol>
<h3>LS算法</h3>
<p>链路状态路由算法</p>
<p>在这算法中，网络拓扑和所有的链路开销都是已知的，是通过让每个节点向网络中所有其他节点广播链路状态分组来完成，链路状态分组包括它连接的链路的标识和开销，这由<strong>链路状态广播算法</strong>来完成。</p>
<p>该算法最差时间复杂度O(N^2)，用堆可以实现对数级别的复杂度。</p>
<h3>DV算法</h3>
<p>距离向量路由选择算法，一种迭代的、异步的、分布式的算法。</p>
<p>最低开销：d<!-- -->&lt;sub&gt;<!-- -->x<!-- -->&lt;/sub&gt;<!-- -->(y) = min{ c(x, v) + d<!-- -->&lt;sub&gt;<!-- -->v<!-- -->&lt;/sub&gt;<!-- -->(y) }</p>
<p>每个路由器节点需要维护一些路由选择信息：</p>
<ol>
<li>对于每个邻居v，从x到v的开销c(x, v)</li>
<li>节点x的距离向量，即D<!-- -->&lt;sub&gt;<!-- -->x<!-- -->&lt;/sub&gt;<!-- -->=[D<!-- -->&lt;sub&gt;<!-- -->x<!-- -->&lt;/sub&gt;<!-- --> : y∈N]，x到N中所有节点y的开销估计值</li>
<li>它的每个邻居的距离向量，即对x的每个邻居，由D<!-- -->&lt;sub&gt;<!-- -->x<!-- -->&lt;/sub&gt;<!-- -->=[D<!-- -->&lt;sub&gt;<!-- -->v<!-- -->&lt;/sub&gt;<!-- -->(y) : y∈N]，也就是邻居到y的开销</li>
</ol>
<p>所以 D<!-- -->&lt;sub&gt;<!-- -->x<!-- -->&lt;/sub&gt;<!-- -->(y) = min { c(x, y) + D<!-- -->&lt;sub&gt;<!-- -->v<!-- -->&lt;/sub&gt;<!-- -->(y) }</p>
<h2>开放最短路优先（OSPF）</h2>
<p>因特网是ISP的网络，每个ISP都有它自己的路由器网络，ISP通常希望按照自己的意愿运行路由器。</p>
<p>将路由器组织进入<strong>自治系统</strong>（Autonomous System，AS），每个AS由一组通常处在相同管理控制下的路由器组成。</p>
<p>在相同AS中的路由器都运行相同的路由选择算法，并且拥有彼此的信息，在一个AS内运行的路由选择算法叫作<strong>自治系统内部路由选择协议</strong>。</p>
<p>OSPF是一种链路状态协议，它使用洪范链路状态信息和Dijkstra最低开销路径算法。</p>
<p>每台路由器在本地运行Dijkstra算法，以确定一个以自身为根节点到所有子网的最短路径树。</p>
<p><strong>优点</strong></p>
<ol>
<li>安全</li>
<li>多条相同开销的路径</li>
<li>对单播与多播路由选择的综合支持</li>
<li>支持在单个AS中的层次结构</li>
</ol>
<h2>边界网关协议（BGP）</h2>
<p>OSPF是一个AS内部路由选择协议，当分组跨越多个AS进行路由是，需要一个<strong>自治系统间路由选择协议</strong>。</p>
<p>因为AS间路由选择协议涉及多个AS之间的协调，所以AS通信必须运行相同的AS间路由选择协议，因特网中运行的AS间路由选择协议称为<strong>边界网关协议</strong>（Border Gateway Protocol，BGP）。</p>
<p>路由器内部的转发表，对于位于相同AS中的目的地，表项由AS内部路由选择协议决定，对于外部目的地表项由BGP所决定。BGP中的分组是一个前缀。（CIDR化的前缀）</p>
<p>BGP为每台路由器提供了手段完成两个任务：</p>
<ol>
<li>从邻居AS获得前缀的可达性信息</li>
<li>确定到该前缀的“最好的”路由</li>
</ol>
<p><strong>通告BGP路由信息</strong></p>
<p>每台路由器要么是一台<strong>网关路由器</strong>，要么是一台<strong>内部路由器</strong>，网关路由器是位于AS边缘的路由器。</p>
<p>在BGP中，每对路由器通过使用179端口的半永久TCP连接交换路由选择信息，每条链接及BGP报文称为<strong>BGP连接</strong>，跨越AS的BGP连接称为<strong>外部BGP</strong>，相同AS中的称为<strong>内部BGP</strong>。</p>
<p><strong>确定最好的路由</strong></p>
<p>路由器通过BGP连接通告前缀时，前缀中包括一些<strong>BGP属性</strong>（BGP attribute），前缀 + 属性 == 路由；</p>
<p>两个较为重要的属性</p>
<ol>
<li>
<p>AS-PATH</p>
<p>包含通告已经通过的AS列表</p>
</li>
<li>
<p>NEXT-HOP</p>
<p>是AS-PATH起始的路由器接口的IP地址</p>
</li>
</ol>
<p>BGP路由选择算法</p>
<ol>
<li>热土豆路由选择</li>
<li>路由器选择算法</li>
</ol>
<h2>SDN控制平面</h2>
<p>……</p>
<h2>简单网络管理协议（SNMP）</h2>
<p>……</p><div><a href="/notes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%B1%82">cd ..</a></div></div></main><footer class="pb-2 pt-12 text-center shrink-0"><div class="capitalize">copyright <span class="text-2xl align-middle">©</span> <!-- -->2022<!-- --> xie feng</div><div class="text-sm">Powered by NextJS</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metaTitle":"6","article":{"title":"6","content":"## 控制平面概述\r\n\r\n\u003e 控制平面作为一种网络范围的逻辑，不仅控制沿着从主机到目的主机的端到端路径间的路由器路由器如何转发数据报，而且控制网络层组件和服务如何配置和管理。\r\n\r\n对于转发表和流表的计算、维护和安装有两种方式：\r\n\r\n1. 每路由控制\r\n2. 逻辑集中式控制\r\n\r\n## 路由选择算法（routing algorithm）\r\n\r\n**目的：**从发送方到接收方的过程中确定一条通过路由器网络的好的路径。一般好的路径指具有最低开销的路径。\r\n\r\n**分类**\r\n\r\n1. 根据算法是集中式还是分散式\r\n\r\n   - 集中式路由选择算法\r\n\r\n     也称链路状态算法（LS），例如：Dijkstra算法\r\n\r\n   - 分散式路由选择算法\r\n\r\n     例如：距离向量算法（DV）\r\n\r\n2. 根据算法是静态的还是动态\r\n\r\n   - 静态路由选择算法\r\n   - 动态路由选择算法\r\n\r\n3. 根据算法是负载敏感还是负载迟钝\r\n\r\n   - 负载敏感算法\r\n   - 负载迟钝算法\r\n\r\n### LS算法\r\n\r\n链路状态路由算法\r\n\r\n在这算法中，网络拓扑和所有的链路开销都是已知的，是通过让每个节点向网络中所有其他节点广播链路状态分组来完成，链路状态分组包括它连接的链路的标识和开销，这由**链路状态广播算法**来完成。\r\n\r\n该算法最差时间复杂度O(N^2)，用堆可以实现对数级别的复杂度。\r\n\r\n### DV算法\r\n\r\n距离向量路由选择算法，一种迭代的、异步的、分布式的算法。\r\n\r\n最低开销：d\u003csub\u003ex\u003c/sub\u003e(y) = min{ c(x, v) + d\u003csub\u003ev\u003c/sub\u003e(y) }\r\n\r\n每个路由器节点需要维护一些路由选择信息：\r\n\r\n1. 对于每个邻居v，从x到v的开销c(x, v)\r\n2. 节点x的距离向量，即D\u003csub\u003ex\u003c/sub\u003e=[D\u003csub\u003ex\u003c/sub\u003e : y∈N]，x到N中所有节点y的开销估计值\r\n3. 它的每个邻居的距离向量，即对x的每个邻居，由D\u003csub\u003ex\u003c/sub\u003e=[D\u003csub\u003ev\u003c/sub\u003e(y) : y∈N]，也就是邻居到y的开销\r\n\r\n所以 D\u003csub\u003ex\u003c/sub\u003e(y) = min { c(x, y) + D\u003csub\u003ev\u003c/sub\u003e(y) }\r\n\r\n## 开放最短路优先（OSPF）\r\n\r\n因特网是ISP的网络，每个ISP都有它自己的路由器网络，ISP通常希望按照自己的意愿运行路由器。\r\n\r\n将路由器组织进入**自治系统**（Autonomous System，AS），每个AS由一组通常处在相同管理控制下的路由器组成。\r\n\r\n在相同AS中的路由器都运行相同的路由选择算法，并且拥有彼此的信息，在一个AS内运行的路由选择算法叫作**自治系统内部路由选择协议**。\r\n\r\nOSPF是一种链路状态协议，它使用洪范链路状态信息和Dijkstra最低开销路径算法。\r\n\r\n每台路由器在本地运行Dijkstra算法，以确定一个以自身为根节点到所有子网的最短路径树。\r\n\r\n**优点**\r\n\r\n1. 安全\r\n2. 多条相同开销的路径\r\n3. 对单播与多播路由选择的综合支持\r\n4. 支持在单个AS中的层次结构\r\n\r\n## 边界网关协议（BGP）\r\n\r\nOSPF是一个AS内部路由选择协议，当分组跨越多个AS进行路由是，需要一个**自治系统间路由选择协议**。\r\n\r\n因为AS间路由选择协议涉及多个AS之间的协调，所以AS通信必须运行相同的AS间路由选择协议，因特网中运行的AS间路由选择协议称为**边界网关协议**（Border Gateway Protocol，BGP）。\r\n\r\n路由器内部的转发表，对于位于相同AS中的目的地，表项由AS内部路由选择协议决定，对于外部目的地表项由BGP所决定。BGP中的分组是一个前缀。（CIDR化的前缀）\r\n\r\nBGP为每台路由器提供了手段完成两个任务：\r\n\r\n1. 从邻居AS获得前缀的可达性信息\r\n2. 确定到该前缀的“最好的”路由\r\n\r\n**通告BGP路由信息**\r\n\r\n每台路由器要么是一台**网关路由器**，要么是一台**内部路由器**，网关路由器是位于AS边缘的路由器。\r\n\r\n在BGP中，每对路由器通过使用179端口的半永久TCP连接交换路由选择信息，每条链接及BGP报文称为**BGP连接**，跨越AS的BGP连接称为**外部BGP**，相同AS中的称为**内部BGP**。\r\n\r\n**确定最好的路由**\r\n\r\n路由器通过BGP连接通告前缀时，前缀中包括一些**BGP属性**（BGP attribute），前缀 + 属性 == 路由；\r\n\r\n两个较为重要的属性\r\n\r\n1. AS-PATH \r\n\r\n   包含通告已经通过的AS列表\r\n\r\n2. NEXT-HOP\r\n\r\n   是AS-PATH起始的路由器接口的IP地址\r\n\r\nBGP路由选择算法\r\n\r\n1. 热土豆路由选择\r\n2. 路由器选择算法\r\n\r\n\r\n## SDN控制平面\r\n\r\n……\r\n\r\n## 简单网络管理协议（SNMP）\r\n\r\n……\r\n\r\n\r\n\r\n","meta":{"size":4580,"birthTime":1663496641445.6006,"updateTime":1663496641445.7139}}},"__N_SSG":true},"page":"/notes/[[...param]]","query":{"param":["计算机网络","网络层","6"]},"buildId":"OyucwIrXZRgWNxoAUA9lF","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>