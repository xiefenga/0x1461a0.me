<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>类型转换 | 0X1461A0</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/5db4aa1edde4971b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5db4aa1edde4971b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/38c642bc88044b6e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/38c642bc88044b6e.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2c644d3580cecc35.js" defer=""></script><script src="/_next/static/chunks/framework-325eacbb81921a43.js" defer=""></script><script src="/_next/static/chunks/main-c87967b003e3efc2.js" defer=""></script><script src="/_next/static/chunks/pages/_app-111c29f79e705983.js" defer=""></script><script src="/_next/static/chunks/542-e750f8bef0aa06d2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5B%5B...param%5D%5D-4c9f87d1f418ba6e.js" defer=""></script><script src="/_next/static/OyucwIrXZRgWNxoAUA9lF/_buildManifest.js" defer=""></script><script src="/_next/static/OyucwIrXZRgWNxoAUA9lF/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen"><header class="pb-10 pt-12 text-center shrink-0"><a class="uppercase tracking-widest text-gray-600" href="/">0x1461a0</a></header><main class="flex-auto mb-12"><div class="TOC_table-of-content__KyR_J"><ul><li><a href="#NaN" data-target-id="h2-NaN-0">NaN</a></li><li><a href="#Number" data-target-id="h2-Number-1">Number</a></li><li><a href="#parseInt" data-target-id="h2-parseInt-2">parseInt</a></li><li><a href="#操作符" data-target-id="h2-操作符-3">操作符</a><ul><li><a href="#++/--" data-target-id="h3-++/---0">++/--</a></li><li><a href="#乘法" data-target-id="h3-乘法-1">乘法</a></li><li><a href="#除法" data-target-id="h3-除法-2">除法</a></li><li><a href="#取模" data-target-id="h3-取模-3">取模</a></li></ul></li></ul></div><div class="article_article-container__yUBmR"><div class="mb-8"><h1 data-title="true" class="mb-0">类型转换</h1><p class="opacity-50 !-mt-2"><span>Post: <!-- -->2022.09.18</span><span class="font-bold">·</span><span>Update: <!-- -->2022.09.18</span></p></div><h2>NaN</h2>
<p>NaN 是一个特殊的值，意味着不是数值，用于表示本来要返回数值的操作失败了。</p>
<pre><code class="language-javascript">console.log(0/0)		// NaN 
</code></pre>
<p>任何涉及到 NaN 的操作返回值都是 NaN，并且：</p>
<pre><code class="language-javascript">NaN == NaN		// false
</code></pre>
<p><code>isNaN</code> 用于判断参数是否不是一个数值，该函数会尝试对参数调用 <code>Number</code> 将它转换为数值，任何不能转换为数值的值都会导致这个函数返回 <code>true</code></p>
<pre><code class="language-javascript">isNaN(NaN)		// true 
isNaN(10)			// false，10 是数值
isNaN(&quot;10&quot;) 	// false，可以转换为数值 10 
isNaN(&quot;blue&quot;) // true，不可以转换为数值
isNaN(true)		// false，可以转换为数值 1
</code></pre>
<p><code>Number.isNaN()</code> 不会自行将参数转换成数字，只有在参数是值为 <code>NaN</code> 时，才会返回 <code>true</code></p>
<pre><code class="language-javascript">Number.isNaN(NaN);        // true
Number.isNaN(&quot;blabla&quot;);   // false
</code></pre>
<p>Polyfill：</p>
<pre><code class="language-javascript">Number.isNaN = Number.isNaN ?? (value) =&gt; typeof value === &quot;number&quot; &amp;&amp; isNaN(value)
</code></pre>
<h2>Number</h2>
<p><code>Number()</code> 函数转换规则：</p>
<ul>
<li>布尔值：true 转换为 1，false 转换为 0</li>
<li>数值，直接返回</li>
<li>null 返回 0，undefined 返回 NaN</li>
<li>字符串：<!-- -->
<ol>
<li>先 <code>trim</code> 再忽略前导的 0</li>
<li>空串返回 0</li>
<li>有符号十进制数，返回该十进制数</li>
<li>有效的十六进制数（如 <code>0xf</code> ）返回与该十六进制值对应的十进制整数值</li>
<li>包含除其他字符返回 NaN</li>
</ol>
</li>
<li>调用 <code>valueOf</code> 方法，并按照规则转换，如果转换结果是 NaN，则调用 <code>toString</code> 方法，再按照转换字符串的规则转换</li>
</ul>
<h2>parseInt</h2>
<p><code>parseInt</code> 函数更专注于字符串是否包含数值模式</p>
<ol>
<li>忽略字符串最前面的空格</li>
<li>如果第一个字符不是数值字符、加号或减号返回 <code>NaN</code>，=&gt; 空串返回 <code>NaN</code></li>
<li>依次检测每个字符，直到字符串末尾，或碰到非数值字符</li>
<li>第二个参数用于指定底数，表明要解析的值的进制</li>
</ol>
<pre><code class="language-javascript">parseInt(&#x27;&#x27;)  // NaN
parseInt(&#x27;1234blue&#x27;)	// 1234
parseInt(’0xAF‘, 16)  // 175 
</code></pre>
<h2>操作符</h2>
<h3>++/--</h3>
<ul>
<li>对于字符串：</li>
<li>如果是有效的数值形式，则转换为数值再应用改变</li>
<li>如果不是有效的数值形式，则将变量的值设置为 NaN</li>
<li>变量类型从字符串变成数值</li>
<li>对于布尔值：<!-- -->
<ul>
<li>如果是 false，则转换为 0 再应用改变</li>
<li>如果是 true，则转换为 1 再应用改变</li>
<li>变量类型从布尔值变成数值</li>
</ul>
</li>
<li>对于浮点值，加 1 或减 1</li>
<li>如果是对象：<!-- -->
<ul>
<li>调用 <code>valueOf</code> 方法得到的值应用上述规则</li>
<li>如果是 <code>NaN</code>，则调用 <code>toString</code> 并再次应用其他规则</li>
<li>变量类型从对象变成数值</li>
</ul>
</li>
</ul>
<h3>乘法</h3>
<ul>
<li>操作数都是数值，则执行常规的乘法运算</li>
<li>有任一操作数是 NaN，返回 NaN</li>
<li>Infinity 乘以 0，则返回 NaN</li>
<li>Infinity 乘以非 0 的有限数值，则根据第二个操作数的符号返回 Infinity 或-Infinity</li>
<li>Infinity 乘以 Infinity，则返回 Infinity</li>
<li>有不是数值的操作数，先在后台调用 <code>Number()</code> 将其转为数字再应用上述规则</li>
</ul>
<h3>除法</h3>
<ul>
<li>操作数都是数值，执行常规的除法运算</li>
<li>有任一操作数是 NaN，返回 NaN</li>
<li>Infinity 除以 Infinity，返回 NaN</li>
<li>0 除以 0，返回 NaN</li>
<li>非 0 的有限值除以 0，根据第一个操作数的符号返回 Infinity 或-Infinity</li>
<li>Infinity 除以任何数值，根据第二个操作数的符号返回 Infinity 或 -Infinity</li>
<li>有不是数值的操作数，先在后台用 <code>Number()</code> 将其转为数字再应用上述规则</li>
</ul>
<h3>取模</h3>
<ul>
<li>操作数都是数值，执行常规除法运算，返回余数</li>
<li>被除数是无限值，除数是有限值，则返回 NaN</li>
<li>被除数是有限值，除数是 0，则返回 NaN</li>
<li>Infinity 除以 Infinity，返回 NaN</li>
<li>被除数是有限值，除数是无限值，返回被除数</li>
<li>被除数是 0，除数不是 0，则返回 0</li>
<li>有不是数值的操作数，先在后台用 <code>Number()</code> 将其转为数字再应用上述规则</li>
</ul><div><a href="/notes/JavaScript/ECMAScript">cd ..</a></div></div></main><footer class="pb-2 pt-12 text-center shrink-0"><div class="capitalize">copyright <span class="text-2xl align-middle">©</span> <!-- -->2022<!-- --> xie feng</div><div class="text-sm">Powered by NextJS</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metaTitle":"类型转换","article":{"title":"类型转换","content":"## NaN\n\nNaN 是一个特殊的值，意味着不是数值，用于表示本来要返回数值的操作失败了。\n\n```javascript\nconsole.log(0/0)\t\t// NaN \n```\n\n任何涉及到 NaN 的操作返回值都是 NaN，并且：\n\n```javascript\nNaN == NaN\t\t// false\n```\n\n`isNaN` 用于判断参数是否不是一个数值，该函数会尝试对参数调用 `Number` 将它转换为数值，任何不能转换为数值的值都会导致这个函数返回 `true`\n\n```javascript\nisNaN(NaN)\t\t// true \nisNaN(10)\t\t\t// false，10 是数值\nisNaN(\"10\") \t// false，可以转换为数值 10 \nisNaN(\"blue\") // true，不可以转换为数值\nisNaN(true)\t\t// false，可以转换为数值 1\n```\n\n`Number.isNaN()` 不会自行将参数转换成数字，只有在参数是值为 `NaN` 时，才会返回 `true`\n\n```javascript\nNumber.isNaN(NaN);        // true\nNumber.isNaN(\"blabla\");   // false\n```\n\nPolyfill：\n\n```javascript\nNumber.isNaN = Number.isNaN ?? (value) =\u003e typeof value === \"number\" \u0026\u0026 isNaN(value)\n```\n\n## Number\n\n`Number()` 函数转换规则：\n\n- 布尔值：true 转换为 1，false 转换为 0\n- 数值，直接返回\n- null 返回 0，undefined 返回 NaN\n- 字符串：\n  1. 先 `trim` 再忽略前导的 0\n  2. 空串返回 0\n  3. 有符号十进制数，返回该十进制数\n  4. 有效的十六进制数（如 `0xf` ）返回与该十六进制值对应的十进制整数值\n  5. 包含除其他字符返回 NaN\n- 调用 `valueOf` 方法，并按照规则转换，如果转换结果是 NaN，则调用 `toString` 方法，再按照转换字符串的规则转换\n\n## parseInt\n\n`parseInt` 函数更专注于字符串是否包含数值模式\n\n1. 忽略字符串最前面的空格\n2. 如果第一个字符不是数值字符、加号或减号返回 `NaN`，=\u003e 空串返回 `NaN`\n3. 依次检测每个字符，直到字符串末尾，或碰到非数值字符\n4. 第二个参数用于指定底数，表明要解析的值的进制\n\n```javascript\nparseInt('')  // NaN\nparseInt('1234blue')\t// 1234\nparseInt(’0xAF‘, 16)  // 175 \n```\n\n## 操作符\n\n### ++/--\n\n-  对于字符串：\n  - 如果是有效的数值形式，则转换为数值再应用改变\n  - 如果不是有效的数值形式，则将变量的值设置为 NaN \n  - 变量类型从字符串变成数值\n- 对于布尔值：\n  - 如果是 false，则转换为 0 再应用改变\n  - 如果是 true，则转换为 1 再应用改变\n  - 变量类型从布尔值变成数值\n-  对于浮点值，加 1 或减 1\n- 如果是对象：\n  - 调用 `valueOf` 方法得到的值应用上述规则\n  - 如果是 `NaN`，则调用 `toString` 并再次应用其他规则\n  - 变量类型从对象变成数值\n\n### 乘法\n\n- 操作数都是数值，则执行常规的乘法运算\n- 有任一操作数是 NaN，返回 NaN\n-  Infinity 乘以 0，则返回 NaN\n- Infinity 乘以非 0 的有限数值，则根据第二个操作数的符号返回 Infinity 或-Infinity\n- Infinity 乘以 Infinity，则返回 Infinity\n- 有不是数值的操作数，先在后台调用 `Number()` 将其转为数字再应用上述规则\n\n### 除法\n\n- 操作数都是数值，执行常规的除法运算\n- 有任一操作数是 NaN，返回 NaN\n- Infinity 除以 Infinity，返回 NaN\n- 0 除以 0，返回 NaN\n- 非 0 的有限值除以 0，根据第一个操作数的符号返回 Infinity 或-Infinity\n- Infinity 除以任何数值，根据第二个操作数的符号返回 Infinity 或 -Infinity\n- 有不是数值的操作数，先在后台用 `Number()` 将其转为数字再应用上述规则\n\n### 取模\n\n- 操作数都是数值，执行常规除法运算，返回余数\n- 被除数是无限值，除数是有限值，则返回 NaN\n- 被除数是有限值，除数是 0，则返回 NaN\n- Infinity 除以 Infinity，返回 NaN\n- 被除数是有限值，除数是无限值，返回被除数\n- 被除数是 0，除数不是 0，则返回 0\n- 有不是数值的操作数，先在后台用 `Number()` 将其转为数字再应用上述规则\n","meta":{"size":3962,"birthTime":1663496641394.11,"updateTime":1663496641394.2334}}},"__N_SSG":true},"page":"/notes/[[...param]]","query":{"param":["JavaScript","ECMAScript","类型转换"]},"buildId":"OyucwIrXZRgWNxoAUA9lF","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>