<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>文件操作 | 0X1461A0</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/5db4aa1edde4971b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5db4aa1edde4971b.css" data-n-g=""/><link rel="preload" href="/_next/static/css/38c642bc88044b6e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/38c642bc88044b6e.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-2c644d3580cecc35.js" defer=""></script><script src="/_next/static/chunks/framework-325eacbb81921a43.js" defer=""></script><script src="/_next/static/chunks/main-c87967b003e3efc2.js" defer=""></script><script src="/_next/static/chunks/pages/_app-111c29f79e705983.js" defer=""></script><script src="/_next/static/chunks/542-e750f8bef0aa06d2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5B%5B...param%5D%5D-4c9f87d1f418ba6e.js" defer=""></script><script src="/_next/static/OyucwIrXZRgWNxoAUA9lF/_buildManifest.js" defer=""></script><script src="/_next/static/OyucwIrXZRgWNxoAUA9lF/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-screen"><header class="pb-10 pt-12 text-center shrink-0"><a class="uppercase tracking-widest text-gray-600" href="/">0x1461a0</a></header><main class="flex-auto mb-12"><div class="TOC_table-of-content__KyR_J"><ul><li><a href="#目录结构" data-target-id="h1-目录结构-0">目录结构</a></li><li><a href="#常用操作" data-target-id="h1-常用操作-1">常用操作</a></li><li><a href="#打包压缩" data-target-id="h1-打包压缩-2">打包压缩</a><ul><li><a href="#gizp" data-target-id="h2-gizp-0">gizp</a></li><li><a href="#bzip2" data-target-id="h2-bzip2-1">bzip2</a></li><li><a href="#zip" data-target-id="h2-zip-2">zip</a></li></ul></li><li><a href="#压缩" data-target-id="h1-压缩-3">压缩</a></li><li><a href="#解压" data-target-id="h1-解压-4">解压</a><ul><li><a href="#tar" data-target-id="h2-tar-3">tar</a></li></ul></li><li><a href="#压缩" data-target-id="h1-压缩-5">压缩</a></li><li><a href="#解压" data-target-id="h1-解压-6">解压</a></li><li><a href="#文本查看" data-target-id="h1-文本查看-7">文本查看</a></li></ul></div><div class="article_article-container__yUBmR"><div class="mb-8"><h1 data-title="true" class="mb-0">文件操作</h1><p class="opacity-50 !-mt-2"><span>Post: <!-- -->2022.09.18</span><span class="font-bold">·</span><span>Update: <!-- -->2022.09.18</span></p></div><h1>目录结构</h1>
<p>Linux 目录配置的依据是 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.pathname.com%2Ffhs%2F">FHS</a>（Filesystem Hierarchy Standard）标准，使得不同的发行版的文件目录都有一些相似性</p>
<p>FHS 定义出两层规范出来：</p>
<ol>
<li>第一层是 <code>/</code> 下的各个目录应该要放置什么样内容的档案数据，例如 <code>/etc</code> 放置配置文件，<code>/bin</code> 则应该要放置可执行文件</li>
<li>第二层则是针对 <code>/usr</code> 及 <code>/var</code> 这两个目录的次目录来定义的</li>
</ol>
<p>FHS 仅是定义出 <code>/</code>、<code>/usr</code>、<code>/var</code> 目录存放的内容， 因此在其它的目录层级，开发者可以自行配置。</p>
<p><img src="http://oss.xiefeng.tech/img/20210414134158.jpg" alt=""/></p>
<ul>
<li><code>/bin</code>：一些可被运行的二进制文件，比如常用的 cd cp find chmod chown 等命令</li>
<li><code>/sbin</code>：一些系统管理员才会动用到的执行指令，例如 fdisk, mke2fs, fsck, mkswap, mount 等</li>
<li><code>/dev</code>：设备和接口设备都以文件的形式存在此目录下，还包括标准输入、标准错误和标准输出</li>
<li>在其中的外接设备是不能直接被使用的，需要挂载</li>
<li><code>/etc</code>：系统主要的配置文件，比如用户的账号密码和各服务的启动文件等</li>
<li><code>/proc</code>：存储的是运行的进程，这个目录是一个虚拟的目录，它是系统内存的映射</li>
<li><code>/opt</code>：给主机额外安装软件所摆放的目录，optional(可选) 的缩写</li>
<li><code>/tmp</code>：存放系统运行时候产生的临时文件</li>
<li><code>/media</code>：Linux 会把一些识别的设备（例如U盘、光驱）挂载到这个目录下</li>
<li><code>/mnt</code>：当外接设备需要挂载的时候，就需要挂载到该目录下</li>
<li><code>/usr</code>：包含系统的主要程序、 图形接口所需要的文件、额外的函式库、自行安装的软件，以及共享的目录与文件等，类似于 windows 下的 program files 目录</li>
<li><code>/var</code>：存放经常被修改的文件</li>
</ul>
<p>/bin, /sbin, /usr/bin, /usr/sbin 存放系统预设的所有可执行文件，Centos7把所有能够使用的命令都放在这里，/bin /sbin 链接到这里</p>
<p>/usr/local/：本机端自行安装的软件预设放置的目录</p>
<p>/usr/lib：各应用软件的函式库档案放置目录</p>
<ul>
<li>/var/cache/：应用程序本身运行过程中产生的一些缓存</li>
<li>/var/lib/：应用程序执行过程中需要使用的数据文件</li>
<li>/var/log/：日志文件存放目录</li>
<li>/var/run/：某些程序启动之后的PID放在此目录下，链接到/run目录</li>
</ul>
<p>特殊路径：<code>~</code>，表示当前用户的家目录。</p>
<pre><code class="language-shell">xf@ubuntu:/$ cd ~
xf@ubuntu:~$ pwd
/home/xf
</code></pre>
<h1>常用操作</h1>
<ul>
<li><code>ls</code>：列出指定目录（默认 <code>.</code>）下的所有文件和文件夹<!-- -->
<ul>
<li><code>-l</code>：表示以详细列表的形式进行展示，<code>ls -l</code> 等于 <code>ll</code> 指令</li>
<li><code>-a</code>：表示显示所有的文件和文件夹，包含隐藏的文件和文件夹</li>
<li><code>-h</code>：显示文档大小的时候以可读性较高的形式显示，需要和 <code>l</code> 选项结合，不然没什么用</li>
<li><code>-R</code>：递归显示</li>
<li><code>-r</code>：逆序显示，默认按文件名顺序显示</li>
<li><code>-t</code>：按最后修改时间顺序（从后到前）显示，<code>-rt</code> 按时间顺序逆序</li>
<li><code>-d</code>：将目录名像其他文件一样列出，而不是列出目录中的内容</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">ls [-lah] path
</code></pre>
<ul>
<li><code>mkdir</code>：创建文件夹<!-- -->
<ul>
<li><code>-p</code>：若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录</li>
<li>要创建多个目录，多个目录路径之间用空格隔开</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">mkdir [-p] path
</code></pre>
<ul>
<li><code>touch</code>：创建新的空文件<!-- -->
<ul>
<li>要创建多个文件，多个文件路径之间用空格隔开</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">touch path [path path]
</code></pre>
<ul>
<li><code>cp</code>：复制文件 / 文件夹<!-- -->
<ul>
<li><code>-r</code>：将指定目录下的所有文件与子目录一并处理</li>
<li><code>-p</code>：保留用户、权限、时间等文件属性</li>
<li>将文件复制到新位置时可以对文件顺便重命名</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">cp [-r] path path
</code></pre>
<ul>
<li><code>mv</code>：移动文件 / 文件夹到新的位置</li>
</ul>
<pre><code class="language-shell">mv path path
</code></pre>
<p>在 Linux 中 <code>mv</code> 命令也用于重命名：</p>
<pre><code class="language-shell">mv test.txt hehe.txt
</code></pre>
<ul>
<li><code>rm</code>：删除文档 / 文件夹<!-- -->
<ul>
<li><code>-f</code>：强制删除，不提示是否删除</li>
<li><code>-r</code>：递归删除，删除文件夹时需要</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">rm [-fr] name
</code></pre>
<ul>
<li><code>rmdir</code>：删除<strong>空文件夹</strong>
<ul>
<li><code>-p</code>：从最后一层依次向上删除，等于依次对每一个空文件夹执行 <code>rmdir</code>，遇到非空停止</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">rmdir dir3/dir/dir/dir  -p
</code></pre>
<h1>打包压缩</h1>
<p>最早的 Linux 备份介质是磁带，使⽤用的命令是 tar</p>
<p>可以将打包后的磁带⽂文件进⾏行行压缩储存，压缩的命令是 gzip 和 bzip2</p>
<h2>gizp</h2>
<ul>
<li>压缩后的格式为：<code>*.gz</code></li>
<li>不能保存原文件</li>
<li>不能压缩目录，只能压缩文件</li>
</ul>
<pre><code class="language-shell">gzip buodo #压缩
gunzip buodo.gz  #解压
</code></pre>
<h2>bzip2</h2>
<ul>
<li>压缩后的格式：<code>.bz2</code></li>
<li>不能压缩目录，只能压缩文件</li>
<li><code>-k</code> 选项用于压缩保留原文件</li>
</ul>
<pre><code class="language-shell">bzip2 boduo #压缩

bunzip2 boduo.bz2  #解压
</code></pre>
<h2>zip</h2>
<ul>
<li>压缩后的格式：<code>.zip</code></li>
<li>可以压缩目录</li>
<li>会保留原文件</li>
<li><code>-r</code> 用于递归压缩，压缩文件夹时需要该选项，解压时不需要</li>
</ul>
<pre><code class="language-shell">zip boduo.zip boduo # 压缩

unzip boduo.zip # 解压
</code></pre>
<h2>tar</h2>
<ul>
<li>常用选项<!-- -->
<ul>
<li><code>-v</code>：显示操作过程</li>
<li><code>-c</code>： 打包</li>
<li><code>-x</code>： 解包</li>
<li><code>-f</code>： 指定备份文件</li>
</ul>
</li>
<li>压缩选项<!-- -->
<ul>
<li><code>-z</code>：用gzip来压缩/解压缩 文件</li>
<li><code>-j</code>：用bzip2来压缩/解压缩文件</li>
</ul>
</li>
<li>这些选项都可以不用加 <code>-</code></li>
</ul>
<pre><code class="language-shell"># 压缩
tar -zvcf buodo.tar.gz buodo  
tar -jvcf buodo.tar.bz2 buodo

# 解压
tar -zvxf buodo.tar.gz 
tar -jvxf buodo.tar.bz2 
</code></pre>
<h1>文本查看</h1>
<ul>
<li><code>cat</code>：将文件的内容打印到标准输出设备上<!-- -->
<ul>
<li>可以打开多个文件，多个文件路径之间用空格隔开</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">cat /etc
</code></pre>
<ul>
<li><code>head</code>：查看一个文件的前 n 行，默认前 10 行<!-- -->
<ul>
<li><code>-n</code>：表示文件的前 n 行，默认为 10</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">head [-n] path
</code></pre>
<ul>
<li><code>tail</code>：查看一个文件的后 n 行，默认后 10 行<!-- -->
<ul>
<li><code>-n</code>：表示文件的后 n 行，默认为 10</li>
<li><code>-f</code>：查看一个文件的动态变化内容，一般用于查看系统的日志</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">tail [-n] path
</code></pre>
<ul>
<li><code>less</code>：用来浏览文字档案的内容，通过辅助功能键前或向后浏览文件<!-- -->
<ul>
<li>用 ↑ 键向上翻页，用 ↓ 键向下翻页</li>
<li>退出按 q 键</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">less path
</code></pre>
<ul>
<li><code>wc</code>：统计文件内容信息（包含行数、单词数、字节数）<!-- -->
<ul>
<li><code>-l</code>：只显示列数</li>
<li><code>-w</code>：只显示字数</li>
<li><code>-c</code>：只显示字节数</li>
</ul>
</li>
</ul>
<pre><code class="language-shell">wc [-lwc] path
</code></pre><div><a href="/notes/Linux">cd ..</a></div></div></main><footer class="pb-2 pt-12 text-center shrink-0"><div class="capitalize">copyright <span class="text-2xl align-middle">©</span> <!-- -->2022<!-- --> xie feng</div><div class="text-sm">Powered by NextJS</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metaTitle":"文件操作","article":{"title":"文件操作","content":"# 目录结构\r\n\r\nLinux 目录配置的依据是 [FHS](https://link.juejin.cn/?target=https%3A%2F%2Fwww.pathname.com%2Ffhs%2F)（Filesystem Hierarchy Standard）标准，使得不同的发行版的文件目录都有一些相似性\r\n\r\nFHS 定义出两层规范出来：\r\n\r\n1. 第一层是 `/` 下的各个目录应该要放置什么样内容的档案数据，例如 `/etc` 放置配置文件，`/bin` 则应该要放置可执行文件\r\n2. 第二层则是针对 `/usr` 及 `/var` 这两个目录的次目录来定义的\r\n\r\nFHS 仅是定义出 `/`、`/usr`、`/var` 目录存放的内容， 因此在其它的目录层级，开发者可以自行配置。\r\n\r\n![](http://oss.xiefeng.tech/img/20210414134158.jpg)\r\n\r\n- `/bin`：一些可被运行的二进制文件，比如常用的 cd cp find chmod chown 等命令\r\n- `/sbin`：一些系统管理员才会动用到的执行指令，例如 fdisk, mke2fs, fsck, mkswap, mount 等\r\n- `/dev`：设备和接口设备都以文件的形式存在此目录下，还包括标准输入、标准错误和标准输出\r\n- 在其中的外接设备是不能直接被使用的，需要挂载\r\n- `/etc`：系统主要的配置文件，比如用户的账号密码和各服务的启动文件等\r\n- `/proc`：存储的是运行的进程，这个目录是一个虚拟的目录，它是系统内存的映射\r\n- `/opt`：给主机额外安装软件所摆放的目录，optional(可选) 的缩写\r\n- `/tmp`：存放系统运行时候产生的临时文件\r\n- `/media`：Linux 会把一些识别的设备（例如U盘、光驱）挂载到这个目录下\r\n- `/mnt`：当外接设备需要挂载的时候，就需要挂载到该目录下\r\n- `/usr`：包含系统的主要程序、 图形接口所需要的文件、额外的函式库、自行安装的软件，以及共享的目录与文件等，类似于 windows 下的 program files 目录\r\n- `/var`：存放经常被修改的文件\r\n\r\n/bin, /sbin, /usr/bin, /usr/sbin 存放系统预设的所有可执行文件，Centos7把所有能够使用的命令都放在这里，/bin /sbin 链接到这里\r\n\r\n/usr/local/：本机端自行安装的软件预设放置的目录\r\n\r\n/usr/lib：各应用软件的函式库档案放置目录\r\n\r\n\r\n\r\n- /var/cache/：应用程序本身运行过程中产生的一些缓存\r\n- /var/lib/：应用程序执行过程中需要使用的数据文件\r\n- /var/log/：日志文件存放目录\r\n- /var/run/：某些程序启动之后的PID放在此目录下，链接到/run目录\r\n\r\n特殊路径：`~`，表示当前用户的家目录。\r\n\r\n```shell\r\nxf@ubuntu:/$ cd ~\r\nxf@ubuntu:~$ pwd\r\n/home/xf\r\n```\r\n\r\n# 常用操作\r\n\r\n- `ls`：列出指定目录（默认 `.`）下的所有文件和文件夹\r\n\t- `-l`：表示以详细列表的形式进行展示，`ls -l` 等于 `ll` 指令\r\n\t- `-a`：表示显示所有的文件和文件夹，包含隐藏的文件和文件夹\r\n\t- `-h`：显示文档大小的时候以可读性较高的形式显示，需要和 `l` 选项结合，不然没什么用\r\n\t- `-R`：递归显示\r\n\t- `-r`：逆序显示，默认按文件名顺序显示\r\n\t- `-t`：按最后修改时间顺序（从后到前）显示，`-rt` 按时间顺序逆序\r\n\t- `-d`：将目录名像其他文件一样列出，而不是列出目录中的内容\r\n\r\n```shell\r\nls [-lah] path\r\n```\r\n\r\n- `mkdir`：创建文件夹\r\n\t- `-p`：若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录\r\n\t- 要创建多个目录，多个目录路径之间用空格隔开\r\n\r\n```shell\r\nmkdir [-p] path\r\n```\r\n\r\n- `touch`：创建新的空文件\r\n\t- 要创建多个文件，多个文件路径之间用空格隔开\r\n\r\n```shell\r\ntouch path [path path]\r\n```\r\n\r\n- `cp`：复制文件 / 文件夹\r\n\t- `-r`：将指定目录下的所有文件与子目录一并处理\r\n\t- `-p`：保留用户、权限、时间等文件属性\r\n\t- 将文件复制到新位置时可以对文件顺便重命名\r\n\r\n```shell\r\ncp [-r] path path\r\n```\r\n\r\n- `mv`：移动文件 / 文件夹到新的位置\r\n\r\n```shell\r\nmv path path\r\n```\r\n\r\n在 Linux 中 `mv` 命令也用于重命名：\r\n\r\n```shell\r\nmv test.txt hehe.txt\r\n```\r\n\r\n- `rm`：删除文档 / 文件夹\r\n\t- `-f`：强制删除，不提示是否删除\r\n\t- `-r`：递归删除，删除文件夹时需要\r\n\r\n```shell\r\nrm [-fr] name\r\n```\r\n\r\n- `rmdir`：删除**空文件夹**\r\n\t- `-p`：从最后一层依次向上删除，等于依次对每一个空文件夹执行 `rmdir`，遇到非空停止\r\n\r\n```shell\r\nrmdir dir3/dir/dir/dir  -p\r\n```\r\n\r\n# 打包压缩\r\n\r\n最早的 Linux 备份介质是磁带，使⽤用的命令是 tar\r\n\r\n可以将打包后的磁带⽂文件进⾏行行压缩储存，压缩的命令是 gzip 和 bzip2\r\n\r\n## gizp\r\n\r\n- 压缩后的格式为：`*.gz`\r\n- 不能保存原文件\r\n- 不能压缩目录，只能压缩文件\r\n\r\n```shell\r\ngzip buodo #压缩\r\ngunzip buodo.gz  #解压\r\n```\r\n\r\n## bzip2\r\n\r\n- 压缩后的格式：`.bz2`\r\n- 不能压缩目录，只能压缩文件\r\n- `-k` 选项用于压缩保留原文件\r\n\r\n```shell\r\nbzip2 boduo #压缩\r\n\r\nbunzip2 boduo.bz2  #解压\r\n```\r\n\r\n## zip\r\n\r\n- 压缩后的格式：`.zip`\r\n- 可以压缩目录\r\n- 会保留原文件\r\n- `-r` 用于递归压缩，压缩文件夹时需要该选项，解压时不需要\r\n\r\n```shell\r\nzip boduo.zip boduo # 压缩\r\n\r\nunzip boduo.zip # 解压\r\n```\r\n\r\n## tar\r\n\r\n- 常用选项\r\n  - `-v`：显示操作过程\r\n  - `-c`： 打包\r\n  - `-x`： 解包\r\n  - `-f`： 指定备份文件\r\n- 压缩选项\r\n  - `-z`：用gzip来压缩/解压缩 文件\r\n  - `-j`：用bzip2来压缩/解压缩文件\r\n- 这些选项都可以不用加 `-` \r\n\r\n```shell\r\n# 压缩\r\ntar -zvcf buodo.tar.gz buodo  \r\ntar -jvcf buodo.tar.bz2 buodo\r\n\r\n# 解压\r\ntar -zvxf buodo.tar.gz \r\ntar -jvxf buodo.tar.bz2 \r\n```\r\n\r\n# 文本查看\r\n\r\n- `cat`：将文件的内容打印到标准输出设备上\r\n\t- 可以打开多个文件，多个文件路径之间用空格隔开\r\n\r\n```shell\r\ncat /etc\r\n```\r\n\r\n- `head`：查看一个文件的前 n 行，默认前 10 行\r\n\t- `-n`：表示文件的前 n 行，默认为 10\r\n\r\n```shell\r\nhead [-n] path\r\n```\r\n\r\n- `tail`：查看一个文件的后 n 行，默认后 10 行\r\n\t- `-n`：表示文件的后 n 行，默认为 10\r\n\t- `-f`：查看一个文件的动态变化内容，一般用于查看系统的日志\r\n\r\n```shell\r\ntail [-n] path\r\n```\r\n\r\n- `less`：用来浏览文字档案的内容，通过辅助功能键前或向后浏览文件\r\n\t- 用 ↑ 键向上翻页，用 ↓ 键向下翻页\r\n\t- 退出按 q 键\r\n\r\n```shell\r\nless path\r\n```\r\n\r\n- `wc`：统计文件内容信息（包含行数、单词数、字节数）\r\n\t- `-l`：只显示列数\r\n\t- `-w`：只显示字数\r\n\t- `-c`：只显示字节数\r\n\r\n```shell\r\nwc [-lwc] path\r\n```\r\n","meta":{"size":6648,"birthTime":1663496641410.3188,"updateTime":1663496641410.5798}}},"__N_SSG":true},"page":"/notes/[[...param]]","query":{"param":["Linux","文件操作"]},"buildId":"OyucwIrXZRgWNxoAUA9lF","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>