{"pageProps":{"metaTitle":"区分环境","article":{"title":"区分环境","content":"大部分时候，生产环境和开发环境所对应的 webpack 配置有略微的区别，针对不同的环境需要分别对应不同的配置\n\nwebpack 允许配置不仅可以是一个对象，还可以是一个**函数**：\n\n```javascript\nmodule.exports = env => {\n  return {\n    //配置内容\n  }\n}\n```\n\n在开始构建时，webpack 如果发现配置是一个函数，会调用该函数，将函数返回的对象作为配置内容。\n\n在调用该函数时，webpack 会向函数传入一个参数 env，该参数的值来自于 webpack 命令中给 env 参数指定的值：\n\n```shell\nnpx webpack\t# env: undefined\nnpx webpack --env abc # env: \"abc\"\n\nnpx webpack --env.abc # env: {abc:true}\nnpx webpack --env.abc=1  # env： {abc:1}\nnpx webpack --env.abc=1 --env.bcd=2 # env: {abc:1, bcd:2}\n```\n\n因此，我们可以在命令中指定环境，在代码中进行判断，根据环境返回不同的配置结果\n\n","meta":{"size":923,"birthTime":1663496641402.4707,"updateTime":1663496641402.6528}}},"__N_SSG":true}