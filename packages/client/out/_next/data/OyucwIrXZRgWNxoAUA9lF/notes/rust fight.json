{"pageProps":{"metaTitle":"rust fight","article":{"title":"rust fight","content":"## move语义\n\n通过引用不可以移动所有权，编译器会报这样的错误：\n\n1. `cannot move out of op.next which is behind a shared reference ` \n2. `cannot move out of op.next which is behind a mutable reference` \n\n```rust\nstruct IterMut<'a> {\n  next: Option<&'a mut i32>,\n}\n\nlet mut a = 1;\n\nlet op = &IterMut { next: Some(&mut a) };\n// let op = &mut Demo { next: Some(&mut a) };\n\nlet b = op.next;\n\nb.map(|x| *x);\n```\n\n对于 `Option` 的可变引用，可以使用 `take` 解决\n\n```rust\nlet b = op.next.take();\n\nb.map(|x| *x);\n```\n\n\n\n","meta":{"size":549,"birthTime":1663496641422.6108,"updateTime":1663496641422.7961}}},"__N_SSG":true}