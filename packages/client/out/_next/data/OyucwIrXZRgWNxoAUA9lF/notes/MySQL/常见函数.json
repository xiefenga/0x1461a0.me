{"pageProps":{"metaTitle":"常见函数","article":{"title":"常见函数","content":"# 单行函数\r\n\r\n## 字符函数\r\n\r\n- `length`：获取字节分数\r\n- `concat`：拼接字符串\r\n- `upper`、`lower`：大写、小写\r\n- `substr`、`substring`：从指定位置截取长度子串，其实索引为 1\r\n- `instr`：返回子串第一次出现的索引，如果找不到返回0\r\n- `trim`：去除首位空格\r\n- `lpad`、`rpad`：用指定的字符左 / 右填充字符串\r\n- `replace`：字符串替换\r\n\r\n```mysql\r\nSELECT\r\n\tTRIM( '    张翠山    ' ),\r\n\tTRIM( 'aa' FROM 'aaaaaa张翠山aaaaaaaa' );\r\n-- 张翠山\t张翠山\r\n```\r\n\r\n## 数学函数\r\n\r\n- `round`：四舍五入\r\n- `ceil`、`floor`：向上、下取整\r\n- `truncate`：截断\r\n- `mod`：求模，想当于 `%`\r\n- `rand`：获取0-1之间的随机数\r\n\r\n```mysql\r\nSELECT TRUNCATE(1.69999,1);\r\n-- 1.6\r\n```\r\n\r\n## 日期函数\r\n\r\n- `now`：返回现在的日期和时间\r\n- `curdate`：返回今天的日期\r\n- `curtime`：返回现在的时间\r\n- `year`、`month`、`day`...：返回指定日期的年份、月份、天...\r\n- `monthname`：返回指定日期的月份的英文名\r\n- `str_to_date`：将字符通过指定的格式转换成日期\r\n- `date_format`：将日期转换成字符\r\n- `datediff`：返回两个日期之间相差的天数\r\n\r\n```mysql\r\nSELECT YEAR(NOW());\r\n-- 2021\r\nSELECT STR_TO_DATE( '1998-3-2', '%Y-%c-%d');\r\n-- 1998-03-02\r\nSELECT STR_TO_DATE( '4-3 1992', '%c-%d %Y' );\r\n-- 1992-04-03\r\nSELECT DATE_FORMAT(NOW(),'%y年%m月%d日');\r\n-- 21年04月16日\r\n```\r\n\r\n**格式符**\r\n\r\n- `%Y`：四位的年份\r\n- `%y`：2位的年份\r\n- `%m`：月份（01,02…11,12）\r\n- `%c`：月份（1,2,…11,12）\r\n- `%d`：日（01,02,…）\r\n- `%H`：小时（24小时制）\r\n- `%h`：小时（12小时制）\r\n- `%i`：分钟（00,01…59）\r\n- `%s`：秒（00,01,…59）\r\n\r\n## NULL相关\r\n\r\n- `ifnull`：判断某字段或表达式是否为null，如果为null 返回指定的值，否则返回原本的值\r\n- `isnull`：判断某字段或表达式是否为null，如果是，则返回1，否则返回0\r\n\r\n## 其他函数\r\n\r\n- `version`\r\n- `database`\r\n- `user`\r\n\r\n# 分组函数\r\n\r\n功能：用作统计使用，又称为聚合函数或统计函数或组函数\r\n\r\n- `sum` 求和\r\n- `avg` 平均值\r\n- `max` 最大值 \r\n- `min` 最小值 \r\n- `count` 计算个数\r\n\r\n特点：\r\n\r\n1. `sum`、`avg` 一般用于处理数值型\r\n2. `max`、`min`、`count` 可以处理任何类型\r\n3. 以上分组函数都会忽略 `null` 值\r\n4. 可以和 `distinct` 搭配实现去重的运算\r\n\r\n```mysql\r\nSELECT\r\n\tSUM( salary ) 和,\r\n\tAVG( salary ) 平均,\r\n\tMAX( salary ) 最高,\r\n\tMIN( salary ) 最低,\r\n\tCOUNT( salary ) 个数 \r\nFROM\r\n\temployees;\r\n```\r\n\r\n## 搭配DISTINCT\r\n\r\n```mysql\r\nSELECT\r\n\tSUM( DISTINCT salary ),\r\n\tSUM( salary ) \r\nFROM\r\n\temployees;\r\n```\r\n\r\n## COUNT函数\r\n\r\n`COUNT(*)` 和 `COUNT(常量)` 都可以获取到整个表 / 分组的行数\r\n\r\n`COUNT(*)` 会忽略NULL值，所以可以获取到行数\r\n\r\n```mysql\r\nSELECT\r\n\tCOUNT(*),\r\n\tCOUNT( 1 ) \r\nFROM\r\n\temployees;\r\n```\r\n\r\n","meta":{"size":2969,"birthTime":1663496641412.7495,"updateTime":1663496641412.8528}}},"__N_SSG":true}